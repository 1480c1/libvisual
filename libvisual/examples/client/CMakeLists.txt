CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(client)

SET(LV_VERSION_SUFFIX 0.5)

FIND_PACKAGE(PkgConfig)
PKG_CHECK_MODULES(LIBVISUAL libvisual-0.5 REQUIRED)

FIND_PACKAGE(SDL)
IF(NOT SDL_FOUND)
  MESSAGE(FATAL_ERROR "SDL library is missing")
ENDIF(NOT SDL_FOUND)

INCLUDE_DIRECTORIES(
  ${LIBVISUAL_INCLUDE_DIRS}
  ${SDL_INCLUDE_DIR}
)

LINK_DIRECTORIES(
  ${LIBVISUAL_LIBRARY_DIRS}
)

SET(SOURCES
  client.c
  display.c
  sdldriver.c
)

SET(CMAKE_C_FLAGS_DEBUG "-Wall -ggdb")

ADD_EXECUTABLE(lv-standalone ${SOURCES})

TARGET_LINK_LIBRARIES(lv-standalone
  ${LIBVISUAL_LIBRARIES}
  ${SDL_LIBRARY}
)
